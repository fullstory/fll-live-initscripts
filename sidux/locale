#!/bin/sh

# The default language/keyboard to use. This CANNOT be autoprobed.
# Most of these variables will be used to generate the KDE defaults
case "${LANGUAGE}" in
	de)
		# German version UTF-8
		#LANGUAGE="de_DE:de"
		LANG="de_DE.UTF-8"
		KEYTABLE="de-latin1-nodeadkeys"
		KDEKEYBOARDS="de,us"
		XKBLAYOUT="de"
		TZ="Europe/Berlin"
		CD_COUNTRY="German"
		;;
	au)
		## Australian version
		#LANGUAGE="en_AU:en"
		LANG="en_AU.UTF-8"
		KEYTABLE="us"
		KDEKEYBOARDS="us"
		XKBLAYOUT="us"
		TZ="Australia/Sydney"
		CD_COUNTRY="us_american"
		;;
	bg)
		## Bulgarian version
		#LANGUAGE="bg_BG:bg"
		LANG="bg_BG.UTF-8"
		KEYTABLE="bg"
		KDEKEYBOARDS="bg,us"
		XKBLAYOUT="bg"
		TZ="Europe/Sofia"
		CD_COUNTRY="Bulgarian"
		;;
	br)
		## Brazilian Version
		#LANGUAGE="pt_BR:pt"
		LANG="pt_BR.UTF-8"
		KEYTABLE="br-abnt2"
		KDEKEYBOARDS="br,us"
		XKBLAYOUT="br"
		TZ="America/Sao_Paulo"
		CD_COUNTRY="Brazilian"
		;;
	ch)
		## Swiss version (basically de with some modifications)
		#LANGUAGE="de_CH:de"
		LANG="de_CH.UTF-8"
		KEYTABLE="sg-latin1"
		KDEKEYBOARDS="de_CH,de,fr,us"
		XKBLAYOUT="de"
		TZ="Europe/Zurich"
		CD_COUNTRY="Swiss-de"
		;;
	cn)
		## Simplified Chinese version
		LANG="zh_CN.UTF-8"
		KEYTABLE="us"
		KDEKEYBOARDS="us"
		XKBLAYOUT="us"
		TZ="Asia/Shanghai"
		CD_COUNTRY=""
		;;
	cs|cz)
		## Czech version
		#LANGUAGE="cs_CZ:cs"
		LANG="cs_CZ.UTF-8"
		KEYTABLE="cz-lat2"
		KDEKEYBOARDS="cs,us"
		XKBLAYOUT="cs"
		TZ="Europe/Prague"
		CD_COUNTRY="Czech-qwerty"
		;;
	dk|da)
		## Dansk version
		LANG="da_DK.UTF-8"
		KEYTABLE="dk"
		KDEKEYBOARDS="dk,us"
		XKBLAYOUT="dk"
		TZ="Europe/Copenhagen"
		CD_COUNTRY="Danish"
		;;
	el)
		## Greek version
		#LANGUAGE="el_GR:el"
		LANG="el_GR.UTF-8"
		KEYTABLE="gr"
		KDEKEYBOARDS="gr,us"
		XKBLAYOUT="gr"
		TZ="Europe/Athens"
		CD_COUNTRY="Greek"
		;;
	es)
		## Spanish version
		#LANGUAGE="es_ES:es"
		LANG="es_ES.UTF-8"
		KEYTABLE="es"
		KDEKEYBOARDS="es,us"
		XKBLAYOUT="es"
		TZ="Europe/Madrid"
		CD_COUNTRY="Spanish"
		;;
	fi)
		## Finnish version, though we may not have the kde-i18n files
		#LANGUAGE="fi_FI:fi"
		LANG="fi_FI.UTF-8"
		KEYTABLE="fi-latin1"
		KDEKEYBOARDS="fi,us"
		XKBLAYOUT="fi"
		TZ="Europe/Helsinki"
		CD_COUNTRY="Swedish"
		;;
	fr)
		## French version
		#LANGUAGE="fr_FR"
		LANG="fr_FR.UTF-8"
		KEYTABLE="fr"
		KDEKEYBOARDS="fr,us"
		XKBLAYOUT="fr"
		TZ="Europe/Paris"
		CD_COUNTRY="French"
		;;
	fr-be)
		## Belgian version
		#LANGUAGE="fr_BE:fr"
		LANG="fr_BE.UTF-8"
		KEYTABLE="be2-latin1"
		KDEKEYBOARDS="be,fr,us"
		XKBLAYOUT="be"
		TZ="Europe/Brussels"
		CD_COUNTRY="Belgian"
		;;
	ga)
		## Irish Gaeilge version
		LANG="ga_IE.UTF-8"
		KEYTABLE="uk"
		KDEKYBOARDS="ie"
		XKBLAYOUT="ie"
		TZ="Europe/Dublin"
		CD_COUNTRY="British"
		;;
	he|il)
		## Hebrew version
		#LANGUAGE="he_IL:he"
		LANG="he_IL.UTF-8"
		KEYTABLE="us"
		KDEKEYBOARDS="il,us"
		XKBLAYOUT="il"
		TZ="Asia/Jerusalem"
		CD_COUNTRY="Hebrew"
		;;
	hr)
		## Croatian version 
		#LANGUAGE=hr_HR:hr" 
		LANG="hr_HR.UTF-8" 
		KEYTABLE="hr" 
		KDEKEYBOARDS="hr,us"
		XKBLAYOUT="hr" 
		TZ="Europe/Zagreb" 
		CD_COUNTRY="Croatian"
		;;
	ie)
		## Irish (English) version
		#LANGUAGE="en_IE:en"
		LANG="en_IE.UTF-8"
		KEYTABLE="uk"
		KDEKEYBOARDS="ie,gb,us"
		XKBLAYOUT="ie"
		TZ="Europe/Dublin"
		CD_COUNTRY="British"
		;;
	it)
		## Italian version
		#LANGUAGE="it_IT"
		LANG="it_IT.UTF-8"
		KEYTABLE="it"
		KDEKEYBOARDS="it,us"
		XKBLAYOUT="it"
		TZ="Europe/Rome"
		CD_COUNTRY="Italian"
		;;
	ja)
		## (limited) Japanese version
		#LANGUAGE="ja_JP:ja"
		LANG="ja_JP.UTF-8"
		KEYTABLE="us"
		KDEKEYBOARDS="jp,us"
		XKBLAYOUT="jp"
		TZ="Asia/Tokyo"
		CD_COUNTRY="Japanese"
		;;
	nl)
		## Dutch version
		#LANGUAGE="nl_NL:nl"
		LANG="nl_NL.UTF-8"
		KEYTABLE="us"
		KDEKEYBOARDS="nl,us"
		XKBLAYOUT="nl"
		TZ="Europe/Amsterdam"
		CD_COUNTRY="Dutch"
		;;
	nl-be)
		## Belgian version
		#LANGUAGE="nl_BE:nl"
		LANG="nl_BE.UTF-8"
		KEYTABLE="be2-latin1"
		KDEKEYBOARDS="be,fr,us"
		XKBLAYOUT="be"
		TZ="Europe/Brussels"
		CD_COUNTRY="Belgian"
		;;
	pl)
		## Polish version
		#LANGUAGE="pl_PL:pl"
		LANG="pl_PL.UTF-8"
		KEYTABLE="pl"
		KDEKEYBOARDS="pl,us"
		XKBLAYOUT="pl"
		TZ="Europe/Warsaw"
		CD_COUNTRY="Polish"
		;;
	pt)
		## Portuguese version
		#LANGUAGE="pt_PT:pt"
		LANG="pt_PT.UTF-8"
		KEYTABLE="pt-latin1"
		KDEKEYBOARDS="pt,us"
		XKBLAYOUT="pt"
		TZ="Europe/Lisbon"
		CD_COUNTRY="Portugese"
		;;
	ru)
		## Russian version
		#LANGUAGE="ru_RU:ru"
		LANG="ru_RU.UTF-8"
		KEYTABLE="ru"
		KDEKEYBOARDS="ru,us"
		XKBLAYOUT="ru"
		TZ="Europe/Moscow"
		CD_COUNTRY="Russian"
		;;
	sk)
		## Slovak version (guessed)
		#LANGUAGE="sk_SK:sk"
		LANG="sk_SK.UTF-8"
		KEYTABLE="sk-qwerty"
		KDEKEYBOARDS="sk,us"
		XKBLAYOUT="sk"
		TZ="Europe/Bratislava"
		CD_COUNTRY="Slovak-qwerty"
		;;
	sl)
		## Slovenian keyboard
		#LANGUAGE="sl_SI:sl"
		LANG="sl_SI.UTF-8"
		KEYTABLE="slovene"
		KDEKEYBOARDS="si,us"
		XKBLAYOUT="si"
		TZ="Europe/Ljubljana"
		#CONSOLEFONT="iso02g"
		CD_COUNTRY="Slovene"
		;;
	tr)
		## Turkish version (guessed)
		#LANGUAGE="tr_TR"
		LANG="tr_TR.UTF-8"
		KEYTABLE="tr_q-latin5"
		KDEKEYBOARDS="tr,us"
		XKBLAYOUT="tr"
		TZ="Europe/Istanbul"
		CD_COUNTRY="Turkish"
		;;
	tw)
		## Traditional Chinese version (thanks to Chung-Yen Chang)
		#LANGUAGE="zh_TW:zh"
		LANG="zh_TW.UTF-8"
		KEYTABLE="us"
		KDEKEYBOARDS="us"
		XKBLAYOUT="us"
		TZ="Asia/Taipei"
		CD_COUNTRY=""
		;;
	uk)
		## British version UTF-8
		#LANGUAGE="en_GB:en"
		LANG="en_GB.UTF-8"
		KEYTABLE="uk"
		KDEKEYBOARDS="gb,us"
		XKBLAYOUT="gb"
		TZ="Europe/London"
		CD_COUNTRY="British"
		;;
	us)
		# American version UTF-8
		#LANGUAGE="en_US:en"
		LANG="en_US.UTF-8"
		KEYTABLE="us"
		KDEKEYBOARDS="us,ca"
		XKBLAYOUT="us"
		TZ="America/New_York"
		CD_COUNTRY="us_american"
		;;
	*)
		# American version UTF-8
		#LANGUAGE="en_US:en"
		LANG="en_US.UTF-8"
		KEYTABLE="us"
		KDEKEYBOARDS="us,ca"
		XKBLAYOUT="us"
		TZ="Europe/London"
		CD_COUNTRY="us_american"
		;;
esac

export LANG KEYTABLE KDEKEYBOARDS XKBLAYOUT TZ CD_COUNTRY

case ${CD_COUNTRY} in
	French)
		#Issue
		CD_FAMILY="azerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Same as X11 (latin 9)"
		CD_FULL="${CD_COUNTRY}"
		;;
	Belgian)
		CD_FAMILY="azerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	us_american)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="US american"
		;;
	British)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Bulgarian)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Byelorussian)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Brazilian)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Canadian)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="English"
		CD_FULL="${CD_COUNTRY}"
		;;
	Canadian-fr)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="French"
		CD_FULL="${CD_COUNTRY}"
		;;
	Czech-qwerty)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Danish)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Spanish)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Estonian)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Finnish)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Polish)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Greek)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Italian)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Lithuanian)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Latvian)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Norwegian)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Japanese)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Dutch)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Hebrew)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Hungarian)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Icelandic)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Latin_American)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="Latin American"
		;;
	Macedonian)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Portugese)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Romanian)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Russian)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Serbian-qwerty)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Swedish)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Slovak-qwerty)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Thai)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Turkish)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Ukrainian)
		CD_FAMILY="qwerty"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Swiss-fr)
		CD_FAMILY="qwertz"
		CD_KEYMAP="Standard"
		CD_VARIANT="French"
		CD_FULL="${CD_COUNTRY}"
		;;
	Swiss-de)
		CD_FAMILY="qwertz"
		CD_KEYMAP="Standard"
		CD_VARIANT="German"
		CD_FULL="German"
		;;
	German)
		CD_FAMILY="qwertz"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Slovak-qwertz)
		CD_FAMILY="qwertz"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Czech-qwertz)
		CD_FAMILY="qwertz"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Hungarian)
		CD_FAMILY="qwertz"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Slovene)
		CD_FAMILY="qwertz"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Croat)
		CD_FAMILY="qwertz"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	Serbian-qwertz)
		CD_FAMILY="qwertz"
		CD_KEYMAP="Standard"
		CD_VARIANT="Standard"
		CD_FULL="${CD_COUNTRY}"
		;;
	*)
		CD_FAMILY="qwerty"
		CD_KEYMAP="us"
		CD_VARIANT="Standard"
		CD_FULL="US american"
		;;
esac

CD_LAYOUT="$(echo ${CD_COUNTRY} | cut -d'-' -f1)"
CD_LAYOUT_PATH="$(echo ${CD_COUNTRY} | tr [A-Z] [a-z] | cut -d'-' -f1)"
CD_VARIANT_PATH="$(echo ${CD_VARIANT} | tr [A-Z] [a-z])"
CD_FULL_FIX="$(echo ${CD_FULL} | cut -d'-' -f1)"

export CD_LAYOUT CD_LAYOUT_PATH CD_VARIANT_PATH CD_FULL_FIX
